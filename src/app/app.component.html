<div class="container">
    <div 
        class="row mt-3"
        *ngIf="wasErrorLoadingQuizzes"
    >
        <div class="col-md-12">
            <h3>: - (</h3>
            <p>Can't load quizzes, please try again later...</p>
        </div>
    </div>
    <div 
        class="row mt-3"
        *ngIf="!wasErrorLoadingQuizzes"
    >
        <div class="col-md-4">
            <button 
                class="btn btn-outline-success mb-3"
                (click)="addNewQuiz()"
            >
                Add New Quiz
            </button>
            <button 
                class="btn btn-link btn-sm"
                (click)="jsPromisesOne()"
            >
                JS Promises 1
            </button>
            <button 
                class="btn btn-link btn-sm"
                (click)="jsPromisesTwo()"
            >
                2
            </button>
            <button 
                class="btn btn-link btn-sm"
                (click)="jsPromisesThree()"
            >
                3
            </button>
            <div class="list-group mb-3">
                <button 
                    class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
                    *ngFor="let q of quizzes"
                    (click)="selectQuiz(q)"
                    [class.active]="q == selectedQuiz"
                    [style.text-decoration]="q.markedForDelete ? 'line-through' : 'inherit'"
                >
                    {{ q.name }}
                    <small class="font-italic font-weight-lighter">
                        ({{ q.questions.length }} question<span *ngIf="q.questions.length != 1">s</span>)
                    </small> 
                </button>
            </div>
        </div>
        <div 
            class="col-md-8"
            *ngIf="selectedQuiz == undefined"
        >
            <div class="card bg-light">
                <div class="card-body text-center">
                    <h5>No Quiz Selected</h5>
                    Please select or add a new quiz to get started...
                </div>
            </div>
        </div>
        <div 
            class="col-md-8"
            *ngIf="selectedQuiz != undefined"
        >
            <button class="btn btn-outline-dark mb-3">
                Save Quizzes
            </button>
            <button class="btn btn-link mb-3">
                Cancel
            </button>
            <div class="card mb-3">
                <div class="card-header">
                    General
                </div>
                <div class="card-body form-group">
                    <input
                        [(ngModel)]="selectedQuiz.name"
                        class="form-control"
                    />
                </div>
            </div>
            <div class="card mb-3">
                <div class="card-header">
                    Questions
                </div>
                <div class="card-body">
                    <button 
                        class="btn btn-outline-success"
                        (click)="addNewQuestion();"
                    >
                        Add New Question
                    </button>
                    <div 
                        class="form-group"
                        *ngIf="selectedQuiz.questions.length > 0"
                    >
                        <div 
                            class="row mt-3"
                            *ngFor="let question of selectedQuiz.questions"
                        >
                            <div class="col-md-10">
                                <input
                                [(ngModel)]="question.name"
                                class="form-control"
                                />
                            </div>
                            <div class="col-md-2">
                                <button 
                                    class="btn btn-link text-danger"
                                    (click)="removeQuestion(question)"
                                >
                                    Remove
                                </button>
                            </div>
                        </div>
                    </div>                    
                    <p
                        *ngIf="selectedQuiz.questions.length == 0"
                        class="mt-3"
                    >
                        No questions : - (
                </p>
                </div>
            </div>
            <div class="card">
                <div class="card-header">
                    Other
                </div>
                <div class="card-body">
                    <div class="form-check">
                        <input 
                            id="markForDeleteInput" 
                            type="checkbox" 
                            class="form-check-input"
                            [(ngModel)]="selectedQuiz.markedForDelete"
                        />
                        <label 
                            for="markForDeleteInput" 
                            class="form-check-label"
                            [class.text-danger]="selectedQuiz.markedForDelete"
                        >
                            Mark for Delete
                        </label>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-header">
                    Due Date
                </div>
                <div class="card-body">

                    <form class="form-inline">
                        <div class="form-group">
                          <div class="input-group">
                            <input class="form-control" placeholder="yyyy-mm-dd"
                                   name="dp" [(ngModel)]="selectedQuiz.dueDate" ngbDatepicker #d="ngbDatepicker">
                            <div class="input-group-append">
                              <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button">
                                <svg class="bi bi-calendar" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M14 0H2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V2a2 2 0 00-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z" clip-rule="evenodd"/>
                                    <path fill-rule="evenodd" d="M6.5 7a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm-9 3a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm-9 3a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2zm3 0a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                                  </svg>
                              </button>
                            </div>
                          </div>
                        </div>
                      </form> 
                      <hr/>       
                </div>
            </div>

        </div>
    </div>
</div>